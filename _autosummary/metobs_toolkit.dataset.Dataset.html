<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>metobs_toolkit.dataset.Dataset &mdash; metobs_toolkit 0.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="metobs_toolkit.station" href="metobs_toolkit.station.html" />
    <link rel="prev" title="metobs_toolkit.dataset" href="metobs_toolkit.dataset.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="../index.html" class="icon icon-home">
            metobs_toolkit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../template_mapping.html">Mapping to the toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gee_authentication.html">Using Google Earth Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../special_topics.html">Special topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gui.html">Using the GUI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../MetObs_documentation.html">MetObs toolkit Documentation for Users</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../MetObs_documentation_full.html">MetObs toolkit Documentation for developers</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="metobs_toolkit.html">metobs_toolkit</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.analysis.html">metobs_toolkit.analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.convertors.html">metobs_toolkit.convertors</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.data_import.html">metobs_toolkit.data_import</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="metobs_toolkit.dataset.html">metobs_toolkit.dataset</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">metobs_toolkit.dataset.Dataset</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.dataset_settings_updater.html">metobs_toolkit.dataset_settings_updater</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.df_helpers.html">metobs_toolkit.df_helpers</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.gap.html">metobs_toolkit.gap</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.gap_filling.html">metobs_toolkit.gap_filling</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.geometry_functions.html">metobs_toolkit.geometry_functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.gui_launcher.html">metobs_toolkit.gui_launcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.landcover_functions.html">metobs_toolkit.landcover_functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.missingobs.html">metobs_toolkit.missingobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.modeldata.html">metobs_toolkit.modeldata</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.plotting_functions.html">metobs_toolkit.plotting_functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.printing.html">metobs_toolkit.printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.qc_checks.html">metobs_toolkit.qc_checks</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.qc_statistics.html">metobs_toolkit.qc_statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.settings.html">metobs_toolkit.settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.station.html">metobs_toolkit.station</a></li>
<li class="toctree-l3"><a class="reference internal" href="metobs_toolkit.writing_files.html">metobs_toolkit.writing_files</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">metobs_toolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../MetObs_documentation.html">MetObs toolkit Documentation for Users</a></li>
          <li class="breadcrumb-item"><a href="metobs_toolkit.dataset.html">metobs_toolkit.dataset</a></li>
      <li class="breadcrumb-item active">metobs_toolkit.dataset.Dataset</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/metobs_toolkit.dataset.Dataset.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="metobs-toolkit-dataset-dataset">
<h1>metobs_toolkit.dataset.Dataset<a class="headerlink" href="#metobs-toolkit-dataset-dataset" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">metobs_toolkit.dataset.</span></span><span class="sig-name descname"><span class="pre">Dataset</span></span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.apply_quality_control" title="metobs_toolkit.dataset.Dataset.apply_quality_control"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_quality_control</span></code></a></p></td>
<td><p>Apply quality control methods to the dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.apply_titan_buddy_check" title="metobs_toolkit.dataset.Dataset.apply_titan_buddy_check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_titan_buddy_check</span></code></a></p></td>
<td><p>Apply the TITAN buddy check on the observations.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.apply_titan_sct_resistant_check" title="metobs_toolkit.dataset.Dataset.apply_titan_sct_resistant_check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_titan_sct_resistant_check</span></code></a></p></td>
<td><p>Apply the TITAN spatial consistency test (resistant) on the observations.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.coarsen_time_resolution" title="metobs_toolkit.dataset.Dataset.coarsen_time_resolution"><code class="xref py py-obj docutils literal notranslate"><span class="pre">coarsen_time_resolution</span></code></a></p></td>
<td><p>Resample the observations to coarser timeresolution.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.combine_all_to_obsspace" title="metobs_toolkit.dataset.Dataset.combine_all_to_obsspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">combine_all_to_obsspace</span></code></a></p></td>
<td><p>Combine all observations, outliers, missing observations and gaps into one Dataframe.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.fairness_coordinates_for_modeldata_csv_creator" title="metobs_toolkit.dataset.Dataset.fairness_coordinates_for_modeldata_csv_creator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fairness_coordinates_for_modeldata_csv_creator</span></code></a></p></td>
<td><p>This is for the participants of the Cost FAIRNESS Summerschool in Ghent.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.fill_gaps_automatic" title="metobs_toolkit.dataset.Dataset.fill_gaps_automatic"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_gaps_automatic</span></code></a></p></td>
<td><p>Fill the gaps by using linear interpolation or debiased modeldata.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.fill_gaps_era5" title="metobs_toolkit.dataset.Dataset.fill_gaps_era5"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_gaps_era5</span></code></a></p></td>
<td><p>Fill the gaps using a metobs_toolkit.Modeldata object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.fill_gaps_linear" title="metobs_toolkit.dataset.Dataset.fill_gaps_linear"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_gaps_linear</span></code></a></p></td>
<td><p>Fill the gaps using linear interpolation.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_missing_obs_linear</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_altitude</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.get_analysis" title="metobs_toolkit.dataset.Dataset.get_analysis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_analysis</span></code></a></p></td>
<td><p>Create a MetObs_toolkit.Analysis instance from the Dataframe</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.get_gaps_df" title="metobs_toolkit.dataset.Dataset.get_gaps_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_gaps_df</span></code></a></p></td>
<td><p>List all gaps into an overview dataframe.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.get_gaps_info" title="metobs_toolkit.dataset.Dataset.get_gaps_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_gaps_info</span></code></a></p></td>
<td><p>Print out detailed information of the gaps.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.get_landcover" title="metobs_toolkit.dataset.Dataset.get_landcover"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_landcover</span></code></a></p></td>
<td><p>Extract the landcover fractions in a buffer with a specific radius for all stations.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.get_lcz" title="metobs_toolkit.dataset.Dataset.get_lcz"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_lcz</span></code></a></p></td>
<td><p>Function to extract the Local CLimate zones (LCZ) from the wudapt global LCZ map on the Google engine for all stations.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.get_missing_obs_info" title="metobs_toolkit.dataset.Dataset.get_missing_obs_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_missing_obs_info</span></code></a></p></td>
<td><p>Print out detailed information of the missing observations.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.get_modeldata" title="metobs_toolkit.dataset.Dataset.get_modeldata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_modeldata</span></code></a></p></td>
<td><p>Make a metobs_toolkit.Modeldata object with modeldata at the locations of the stations present in the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.get_qc_stats" title="metobs_toolkit.dataset.Dataset.get_qc_stats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_qc_stats</span></code></a></p></td>
<td><p>Compute frequency statistics on the qc labels for an observationtype.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.get_station" title="metobs_toolkit.dataset.Dataset.get_station"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_station</span></code></a></p></td>
<td><p>Extract a metobs_toolkit.Station object from the dataset by name.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.import_data_from_database" title="metobs_toolkit.dataset.Dataset.import_data_from_database"><code class="xref py py-obj docutils literal notranslate"><span class="pre">import_data_from_database</span></code></a></p></td>
<td><p>Function to import data directly from the framboos database and updating the network and station objects.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.import_data_from_file" title="metobs_toolkit.dataset.Dataset.import_data_from_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">import_data_from_file</span></code></a></p></td>
<td><p>Read observations from a csv file as defined in the Settings.input_file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.import_dataset" title="metobs_toolkit.dataset.Dataset.import_dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">import_dataset</span></code></a></p></td>
<td><p>Method to import a Dataset instance from a (pickle) file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.make_gee_plot" title="metobs_toolkit.dataset.Dataset.make_gee_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_gee_plot</span></code></a></p></td>
<td><p>Make an interactive plot of a google earth dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.make_geo_plot" title="metobs_toolkit.dataset.Dataset.make_geo_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_geo_plot</span></code></a></p></td>
<td><p>This functions creates a geospatial plot for a field (observations or attributes) of all stations.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.make_plot" title="metobs_toolkit.dataset.Dataset.make_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_plot</span></code></a></p></td>
<td><p>This function creates a timeseries plot for the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.save_dataset" title="metobs_toolkit.dataset.Dataset.save_dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_dataset</span></code></a></p></td>
<td><p>Method to save a Dataset instance to a (pickle) file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.show" title="metobs_toolkit.dataset.Dataset.show"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show</span></code></a></p></td>
<td><p>A function to print out some overview information about the Dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.show_settings" title="metobs_toolkit.dataset.Dataset.show_settings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show_settings</span></code></a></p></td>
<td><p>A function that prints out all the settings, structured per thematic.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.sync_observations" title="metobs_toolkit.dataset.Dataset.sync_observations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sync_observations</span></code></a></p></td>
<td><p>Simplify and syncronize the observation timestamps along different stations.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.update_gaps_and_missing_from_outliers" title="metobs_toolkit.dataset.Dataset.update_gaps_and_missing_from_outliers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_gaps_and_missing_from_outliers</span></code></a></p></td>
<td><p>Interpret the outliers as missing observations.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.update_outliersdf" title="metobs_toolkit.dataset.Dataset.update_outliersdf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_outliersdf</span></code></a></p></td>
<td><p>V5</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#metobs_toolkit.dataset.Dataset.write_to_csv" title="metobs_toolkit.dataset.Dataset.write_to_csv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_to_csv</span></code></a></p></td>
<td><p>Write the dataset to a file where the observations, metadata and (if available) the quality labels per observation type are merged together.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.apply_quality_control">
<span class="sig-name descname"><span class="pre">apply_quality_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gross_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">persistance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repetitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_variation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.apply_quality_control"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.apply_quality_control" title="Permalink to this definition"></a></dt>
<dd><p>Apply quality control methods to the dataset.</p>
<p>The default settings are used, and can be changed in the
settings_files/qc_settings.py</p>
<p>The checks are performed in a sequence: gross_vallue –&gt;
persistance –&gt; …, Outliers by a previous check are ignored in the
following checks!</p>
<p>The dataset is updated inline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obstype</strong> (<em>String</em><em>, </em><em>optional</em>) – Name of the observationtype you want to apply the checks on. The
default is ‘temp’.</p></li>
<li><p><strong>gross_value</strong> (<em>Bool</em><em>, </em><em>optional</em>) – If True the gross_value check is applied if False not. The default
is True.</p></li>
<li><p><strong>persistance</strong> (<em>Bool</em><em>, </em><em>optional</em>) – If True the persistance check is applied if False not. The default
is True.. The default is True.</p></li>
<li><p><strong>step</strong> (<em>Bool</em><em>, </em><em>optional</em>) – If True the step check is applied if False not. The default is True.</p></li>
<li><p><strong>internal_consistency</strong> (<em>Bool</em><em>, </em><em>optional</em>) – If True the internal consistency check is applied if False not. The
default is True.</p></li>
<li><p><strong>qc_info</strong> (<em>Bool</em><em>, </em><em>optional</em>) – If True info about the quality control is printed if False not. The
default is True.</p></li>
<li><p><strong>ignore_val</strong> (<em>numeric</em><em>, </em><em>optional</em>) – Values to ignore in the quality checks. The default is np.nan.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.apply_titan_buddy_check">
<span class="sig-name descname"><span class="pre">apply_titan_buddy_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_constant_altitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.apply_titan_buddy_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.apply_titan_buddy_check" title="Permalink to this definition"></a></dt>
<dd><p>Apply the TITAN buddy check on the observations.</p>
<p>The buddy check compares an observation against its neighbours (i.e. buddies). The check looks for
buddies in a neighbourhood specified by a certain radius. The buddy check flags observations if the
(absolute value of the) difference between the observations and the average of the neighbours
normalized by the standard deviation in the circle is greater than a predefined threshold.</p>
<p>See the [titanlib documentation on the buddy check](<a class="reference external" href="https://github.com/metno/titanlib/wiki/Buddy-check">https://github.com/metno/titanlib/wiki/Buddy-check</a>)
for futher details.</p>
<p>The observation and outliers attributes will be updated accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obstype</strong> (<em>String</em><em>, </em><em>optional</em>) – Name of the observationtype you want to apply the checks on. The
default is ‘temp’.</p></li>
<li><p><strong>use_constant_altitude</strong> (<em>bool</em><em>, </em><em>optional</em>) – Use a constant altitude for all stations. The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To update the check settings, use the update_titan_qc_settings method
of the Dataset class.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.apply_titan_sct_resistant_check">
<span class="sig-name descname"><span class="pre">apply_titan_sct_resistant_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.apply_titan_sct_resistant_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.apply_titan_sct_resistant_check" title="Permalink to this definition"></a></dt>
<dd><p>Apply the TITAN spatial consistency test (resistant) on the observations.</p>
<p>The SCT resistant check is a spatial consistency check which compares each observations to what is expected given the other observations in the
nearby area. If the deviation is large, the observation is removed. The SCT uses optimal interpolation
(OI) to compute an expected value for each observation. The background for the OI is computed from
a general vertical profile of observations in the area.</p>
<p>See the [titanlib documentation on the buddy check](<a class="reference external" href="https://github.com/metno/titanlib/wiki/Spatial-consistency-test-resistant">https://github.com/metno/titanlib/wiki/Spatial-consistency-test-resistant</a>)
for futher details.</p>
<p>The observation and outliers attributes will be updated accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obstype</strong> (<em>String</em><em>, </em><em>optional</em>) – Name of the observationtype you want to apply the checks on. The
default is ‘temp’.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To update the check settings, use the update_titan_qc_settings method
of the Dataset class.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is a python wrapper on titanlib c++ scripts, and it is prone
to segmentation faults. The perfomance of this check is thus not
guaranteed!</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.coarsen_time_resolution">
<span class="sig-name descname"><span class="pre">coarsen_time_resolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.coarsen_time_resolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.coarsen_time_resolution" title="Permalink to this definition"></a></dt>
<dd><p>Resample the observations to coarser timeresolution. The assumed
dataset resolution (stored in the metadf attribute) will be updated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> (<em>datetime.datetime</em><em>, </em><em>optional</em>) – Define the origin (first timestamp) for the obervations. The origin
is timezone naive, and is assumed to have the same timezone as the
obervations. If None, the earliest occuring timestamp is used as
origin. The default is None.</p></li>
<li><p><strong>origin_tz</strong> (<em>str</em><em>, </em><em>optional</em>) – Timezone string of the input observations. Element of
pytz.all_timezones. If None, the timezone from the settings is
used. The default is None.</p></li>
<li><p><strong>freq</strong> (<em>DateOffset</em><em>, </em><em>Timedelta</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – The offset string or object representing target conversion.
Ex: ‘15T’ is 15 minuts, ‘1H’, is one hour. If None, the target time
resolution of the dataset.settings is used. The default is None.</p></li>
<li><p><strong>method</strong> (<em>'nearest'</em><em> or </em><em>'bfill'</em><em>, </em><em>optional</em>) – Method to apply for the resampling. If None, the resample method of
the dataset.settings is used. The default is None.</p></li>
<li><p><strong>limit</strong> (<em>int</em><em>, </em><em>optional</em>) – Limit of how many values to fill with one original observations. If
None, the target limit of the dataset.settings is used. The default
is None.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.combine_all_to_obsspace">
<span class="sig-name descname"><span class="pre">combine_all_to_obsspace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repr_outl_as_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite_outliers_by_gaps_and_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.combine_all_to_obsspace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.combine_all_to_obsspace" title="Permalink to this definition"></a></dt>
<dd><p>Combine all observations, outliers, missing observations and gaps into
one Dataframe. All observation types are combined an a label is added
in a serperate column.</p>
<p>When gaps and missing records are updated from outliers one has to choice
to represent these records as outliers or gaps. There can not be duplicates
in the return dataframe.</p>
<p>By default the observation values of the outliers are saved, one can
choice to use these values or NaN’s.
following checks!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>repr_outl_as_nan</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, Nan’s are use for the values of the outliers. The
default is False.</p></li>
<li><p><strong>overwrite_outliers_by_gaps_and_missing</strong> (<em>Bool</em><em>, </em><em>optional</em>) – If True, records that are labeld as gap/missing and outlier are
labeled as gaps/missing. This has only effect when the gaps/missing
observations are updated from the outliers. The default
is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>combdf</strong> – A dataframe containing a continious time resolution of records, where each
record is labeld.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame()</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.fairness_coordinates_for_modeldata_csv_creator">
<span class="sig-name descname"><span class="pre">fairness_coordinates_for_modeldata_csv_creator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outputfolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'summerschool_modeldata_metadata.csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.fairness_coordinates_for_modeldata_csv_creator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.fairness_coordinates_for_modeldata_csv_creator" title="Permalink to this definition"></a></dt>
<dd><p>This is for the participants of the Cost FAIRNESS Summerschool in Ghent.
It will create a small csv file with the locations and names of your stations.
This information is needed to extract timeseries of model data.</p>
<p>A spatial plot will be provided aswell. If no bounding box coordinates are given,
a boundingboux is create to encapsulate your stations.</p>
<p>A csv file will be saved in the outputfolder. Email this file to <a class="reference external" href="mailto:mivieijra&#37;&#52;&#48;meteo&#46;be">mivieijra<span>&#64;</span>meteo<span>&#46;</span>be</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputfolder</strong> (<em>string</em><em>, </em><em>optional</em>) – The autput folder to store the csv file. If None, the default
autputfolder will be used. The default is None.</p></li>
<li><p><strong>filename</strong> (<em>string</em><em>, </em><em>optional</em>) – Name of the csv file. The default is
‘summerschool_modeldata_metadata.csv’.</p></li>
<li><p><strong>lat_min</strong> (<em>num</em><em>, </em><em>optional</em>) – Minimum latitude of the bounding box. If None, a boundingbox will
be computed that fits your stations. The default is None.</p></li>
<li><p><strong>lon_min</strong> (<em>num</em><em>, </em><em>optional</em>) – Minimum longitude of the bounding box. If None, a boundingbox will
be computed that fits your stations. The default is None.</p></li>
<li><p><strong>lat_max</strong> (<em>num</em><em>, </em><em>optional</em>) – Maximum latitude of the bounding box. If None, a boundingbox will
be computed that fits your stations. The default is None.</p></li>
<li><p><strong>lon_max</strong> (<em>num</em><em>, </em><em>optional</em>) – Maximum longitude of the bounding box. If None, a boundingbox will
be computed that fits your stations. The default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.fill_gaps_automatic">
<span class="sig-name descname"><span class="pre">fill_gaps_automatic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modeldata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_interpolate_duration_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.fill_gaps_automatic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.fill_gaps_automatic" title="Permalink to this definition"></a></dt>
<dd><p>Fill the gaps by using linear interpolation or debiased modeldata. The
method that is applied to perform the gapfill will be determined by the
duration of the gap.</p>
<p>When the duration of a gap is smaller or equal than
max_interpolation_duration, the linear interpolation method is applied
else the debiased modeldata method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modeldata</strong> (<em>metobs_toolkit.Modeldata</em>) – The modeldata to use for the gapfill. This model data should the required
timeseries to fill all gaps present in the dataset.</p></li>
<li><p><strong>obstype</strong> (<em>String</em><em>, </em><em>optional</em>) – Name of the observationtype you want to apply gap filling on. The
modeldata must contain this observation type as well. The
default is ‘temp’.</p></li>
<li><p><strong>max_interpolate_duration_str</strong> (<em>Timedelta</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Maximum duration to apply interpolation for gapfill when using the
automatic gapfill method. Gaps with longer durations will be filled
using debiased modeldata. The default is None.</p></li>
<li><p><strong>overwrite_fill</strong> (<em>bool</em><em>, </em><em>optional</em>) – If a gap has already filled values, the interpolation of this gap
is skipped if overwrite_fill is False. If set to True, the gapfill
values and info will be overwitten. The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>comb_df</strong> –</p>
<dl class="simple">
<dt>gapfilldf<span class="classifier">pandas.DataFrame</span></dt><dd><p>A dataframe containing all the filled records.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.fill_gaps_era5">
<span class="sig-name descname"><span class="pre">fill_gaps_era5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modeldata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'debias'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.fill_gaps_era5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.fill_gaps_era5" title="Permalink to this definition"></a></dt>
<dd><p>Fill the gaps using a metobs_toolkit.Modeldata object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modeldata</strong> (<em>metobs_toolkit.Modeldata</em>) – The modeldata to use for the gapfill. This model data should the required
timeseries to fill all gaps present in the dataset.</p></li>
<li><p><strong>method</strong> (<em>'debias'</em><em>, </em><em>optional</em>) – Specify which method to use. The default is ‘debias’.</p></li>
<li><p><strong>obstype</strong> (<em>String</em><em>, </em><em>optional</em>) – Name of the observationtype you want to apply gap filling on. The
modeldata must contain this observation type as well. The
default is ‘temp’.</p></li>
<li><p><strong>overwrite_fill</strong> (<em>bool</em><em>, </em><em>optional</em>) – If a gap has already filled values, the interpolation of this gap
is skipped if overwrite_fill is False. If set to True, the gapfill
values and info will be overwitten. The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Gapfilldf</strong> – A dataframe containing all gap filled values and the use method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.fill_gaps_linear">
<span class="sig-name descname"><span class="pre">fill_gaps_linear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.fill_gaps_linear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.fill_gaps_linear" title="Permalink to this definition"></a></dt>
<dd><p>Fill the gaps using linear interpolation.</p>
<p>The gapsfilldf attribute of the Datasetinstance will be updated if
the gaps are not filled yet or if overwrite_fill is set to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obstype</strong> (<em>string</em><em>, </em><em>optional</em>) – Fieldname to visualise. This can be an observation or station
attribute. The default is ‘temp’.</p></li>
<li><p><strong>overwrite_fill</strong> (<em>bool</em><em>, </em><em>optional</em>) – If a gap has already filled values, the interpolation of this gap
is skipped if overwrite_fill is False. If set to True, the gapfill
values and info will be overwitten. The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>gapfilldf</strong> – A dataframe containing all the filled records.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.get_analysis">
<span class="sig-name descname"><span class="pre">get_analysis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.get_analysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.get_analysis" title="Permalink to this definition"></a></dt>
<dd><p>Create a MetObs_toolkit.Analysis instance from the Dataframe</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Analysis instance of the Dataset.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>metobs_toolkit.Analysis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.get_gaps_df">
<span class="sig-name descname"><span class="pre">get_gaps_df</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.get_gaps_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.get_gaps_df" title="Permalink to this definition"></a></dt>
<dd><p>List all gaps into an overview dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame with stationnames as index, and the start, end and duretion
of the gaps as columns.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.get_gaps_info">
<span class="sig-name descname"><span class="pre">get_gaps_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.get_gaps_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.get_gaps_info" title="Permalink to this definition"></a></dt>
<dd><p>Print out detailed information of the gaps.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.get_landcover">
<span class="sig-name descname"><span class="pre">get_landcover</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[100]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gee_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'worldcover'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.get_landcover"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.get_landcover" title="Permalink to this definition"></a></dt>
<dd><p>Extract the landcover fractions in a buffer with a specific radius for
all stations. If an aggregation scheme is define, one can choose to
aggregate the landcoverclasses.</p>
<p>The landcover fractions will be added to the Dataset.metadf if overwrite
is True. Presented as seperate columns where each column represent the
landcovertype and corresponding buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buffers</strong> (<em>num</em><em>, </em><em>optional</em>) – The list of buffer radia in dataset units (meters for ESA worldcover) . The default is 100.</p></li>
<li><p><strong>aggregate</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the classes will be aggregated with the corresponding
aggregation scheme. The default is True.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the Datset.metadf will be updated with the generated
landcoverfractions. The default is True.</p></li>
<li><p><strong>gee_map</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the dataset to use. This name should be present in the
settings.gee[‘gee_dataset_info’]. If aggregat is True, an aggregation
scheme should included as well. The default is ‘worldcover’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>frac_df</strong> – A Dataframe with index: name, buffer_radius and the columns are the
fractions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.get_lcz">
<span class="sig-name descname"><span class="pre">get_lcz</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.get_lcz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.get_lcz" title="Permalink to this definition"></a></dt>
<dd><p>Function to extract the Local CLimate zones (LCZ) from the
wudapt global LCZ map on the Google engine for all stations.</p>
<p>A ‘LCZ’ column will be added to the metadf, and series is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>lcz_series</strong> – A series with the stationnames as index and the LCZ as values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series()</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.get_missing_obs_info">
<span class="sig-name descname"><span class="pre">get_missing_obs_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.get_missing_obs_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.get_missing_obs_info" title="Permalink to this definition"></a></dt>
<dd><p>Print out detailed information of the missing observations.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.get_modeldata">
<span class="sig-name descname"><span class="pre">get_modeldata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modelname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ERA5_hourly'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modeldata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startdt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enddt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.get_modeldata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.get_modeldata" title="Permalink to this definition"></a></dt>
<dd><p>Make a metobs_toolkit.Modeldata object with modeldata at the locations
of the stations present in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modelname</strong> (<em>str</em><em>, </em><em>optional</em>) – Which dataset to download timeseries from. This is only used when
no modeldata is provided. The default is ‘ERA5_hourly’.</p></li>
<li><p><strong>modeldata</strong> (<em>metobs_toolkit.Modeldata</em><em>, </em><em>optional</em>) – Use the modelname attribute and the gee information stored in the
modeldata instance to extract timeseries.</p></li>
<li><p><strong>stations</strong> (<em>string</em><em> or </em><em>list</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Stationnames to subset the modeldata to. If None, all stations will be used. The default is None.</p></li>
<li><p><strong>startdt</strong> (<em>datetime.datetime</em><em>, </em><em>optional</em>) – Start datetime of the model timeseries. If None, the start datetime of the dataset is used. The default is None.</p></li>
<li><p><strong>enddt</strong> (<em>datetime.datetime</em><em>, </em><em>optional</em>) – End datetime of the model timeseries. If None, the last datetime of the dataset is used. The default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Modl</strong> – The extracted modeldata for period and a set of stations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>metobs_toolkit.Modeldata</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When extracting large amounts of data, the timeseries data will be
writen to a file and saved on your google drive. In this case, you need
to provide the Modeldata with the data using the .set_model_from_csv()
method.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only 2mT extraction of ERA5 is implemented for all Modeldata instances.
To extract other variables, one must create a Modeldata instance in
advance, add or update a gee_dataset and give this Modeldata instance
to this method.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.get_qc_stats">
<span class="sig-name descname"><span class="pre">get_qc_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stationname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.get_qc_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.get_qc_stats" title="Permalink to this definition"></a></dt>
<dd><p>Compute frequency statistics on the qc labels for an observationtype.
The output is a dataframe containing the frequency statistics presented
as percentages.</p>
<p>These frequencies can also be presented as a collection of piecharts
per check.</p>
<p>With stationnames you can subset the data to one ore multiple stations.</p>
<p>Parameters</p>
<dl class="simple">
<dt>obstype<span class="classifier">str, optional</span></dt><dd><p>Observation type to analyse the QC labels on. The default is
‘temp’.</p>
</dd>
<dt>stationname<span class="classifier">str, optional</span></dt><dd><p>Stationname to subset the quality labels on. If None, all
stations are used. The default is None.</p>
</dd>
<dt>make_plot<span class="classifier">Bool, optional</span></dt><dd><p>If True, a plot with piecharts is generated. The default is True.</p>
</dd>
</dl>
<p>Returns</p>
<dl class="simple">
<dt>dataset_qc_stats<span class="classifier">pandas.DataFrame</span></dt><dd><p>A table containing the label frequencies per check presented
as percentages0.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.get_station">
<span class="sig-name descname"><span class="pre">get_station</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stationname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.get_station"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.get_station" title="Permalink to this definition"></a></dt>
<dd><p>Extract a metobs_toolkit.Station object from the dataset by name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stationname</strong> (<em>string</em>) – The name of the station.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The station object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>metobs_toolkit.Station</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.import_data_from_database">
<span class="sig-name descname"><span class="pre">import_data_from_database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_datetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_datetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coarsen_timeres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.import_data_from_database"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.import_data_from_database" title="Permalink to this definition"></a></dt>
<dd><p>Function to import data directly from the framboos database and
updating the network and station objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_datetime</strong> (<em>datetime</em><em>, </em><em>optional</em>) – Start datetime of the observations. The default is None and using
yesterday’s midnight.</p></li>
<li><p><strong>end_datetime</strong> (<em>datetime</em><em>, </em><em>optional</em>) – End datetime of the observations. The default is None and using
todays midnight.</p></li>
<li><p><strong>coarsen_timeres</strong> (<em>Bool</em><em>, </em><em>optional</em>) – If True, the observations will be interpolated to a coarser
time resolution as is defined in the Settings. The default
is False.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Ugent VPN connection must be present, as well as the username and password
stored in the settings.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.import_data_from_file">
<span class="sig-name descname"><span class="pre">import_data_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">long_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype_description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_estimation_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_estimation_simplify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_estimation_simplify_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_data_read</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_metadata_read</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.import_data_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.import_data_from_file" title="Permalink to this definition"></a></dt>
<dd><p>Read observations from a csv file as defined in the
Settings.input_file. The input file columns should have a template
that is stored in Settings.template_list.</p>
<p>If the metadata is stored in a seperate file, and the
Settings.input_metadata_file is correct, than this metadata is also
imported (if a suitable template is in the Settings.template_list.)</p>
<p>The dataset is by default assumed to be in long-format (each column represent an observation type, one column indicates the stationname).
Wide-format can be used if ‘long_format’ is set to False and if the observation type is specified by obstype.</p>
<p>An estimation of the observational frequency is made per station. This is used
to find missing observations and gaps.</p>
<dl class="simple">
<dt>The Dataset attributes are set and the following checks are executed:</dt><dd><ul class="simple">
<li><p>Duplicate check</p></li>
<li><p>Invalid input check</p></li>
<li><p>Find missing observations</p></li>
<li><p>Find gaps</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>long_format</strong> (<em>bool</em><em>, </em><em>optional</em>) – True if the inputdata has a long-format, False if it has a wide-format. The default is True.</p></li>
<li><p><strong>obstype</strong> (<em>str</em><em>, </em><em>optional</em>) – If the dataformat is wide, specify which observation type the
observations represent. The obstype should be an element of
metobs_toolkit.observation_types. The default is None.</p></li>
<li><p><strong>freq_estimation_method</strong> (<em>'highest'</em><em> or </em><em>'median'</em><em>, </em><em>optional</em>) – Select wich method to use for the frequency estimation. If
‘highest’, the highest apearing frequency is used. If ‘median’, the
median of the apearing frequencies is used. If None, the method
stored in the
Dataset.settings.time_settings[‘freq_estimation_method’] is used.
The default is None.</p></li>
<li><p><strong>freq_estimation_simplify</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the likely frequency is converted to round hours, or round minutes.
The “freq_estimation_simplify_error’ is used as a constrain. If the constrain is not met,
the simplification is not performed. If None, the method
stored in the
Dataset.settings.time_settings[‘freq_estimation_simplify’] is used.
The default is None.</p></li>
<li><p><strong>freq_estimation_simplify_error</strong> (<em>Timedelta</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – The tollerance string or object representing the maximum translation in time to form a simplified frequency estimation.
Ex: ‘5T’ is 5 minuts, ‘1H’, is one hour. If None, the method
stored in the
Dataset.settings.time_settings[‘freq_estimation_simplify_error’] is
used. The default is None.</p></li>
<li><p><strong>kwargs_data_read</strong> (<em>dict</em><em>, </em><em>optional</em>) – Keyword arguments collected in a dictionary to pass to the
pandas.read_csv() function on the data file. The default is {}.</p></li>
<li><p><strong>kwargs_metadata_read</strong> (<em>dict</em><em>, </em><em>optional</em>) – Keyword arguments collected in a dictionary to pass to the
pandas.read_csv() function on the metadata file. The default is {}.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.import_dataset">
<span class="sig-name descname"><span class="pre">import_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'saved_dataset.pkl'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.import_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.import_dataset" title="Permalink to this definition"></a></dt>
<dd><p>Method to import a Dataset instance from a (pickle) file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>folder_path</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The path to the folder to save the file. If None, the outputfolder
from the Settings is used. The default is None.</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the output file. The default is ‘saved_dataset.pkl’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The Dataset instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>metobs_toolkit.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.make_gee_plot">
<span class="sig-name descname"><span class="pre">make_gee_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gee_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_stations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.make_gee_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.make_gee_plot" title="Permalink to this definition"></a></dt>
<dd><p>Make an interactive plot of a google earth dataset. The location of the
stations can be plotted on top of it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gee_map</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the dataset to use. This name should be present in the
settings.gee[‘gee_dataset_info’]. If aggregat is True, an aggregation
scheme should included as well. The default is ‘worldcover’</p></li>
<li><p><strong>show_stations</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the stations will be plotted as markers. The default is True.</p></li>
<li><p><strong>show</strong> (<em>bool</em><em>, </em><em>optional</em>) – Display the plot. (Not all consoles support this) The default is True.</p></li>
<li><p><strong>save</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the map will be saved as an html file in the output_folder
as defined in the settings. The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Map</strong> – The folium Map instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>geemap.foliumap.Map</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To display the interactive map a graphical backend is required, which
is often missing on (free) cloud platforms. Therefore it is better to
set save=True, and open the .html in your browser</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.make_geo_plot">
<span class="sig-name descname"><span class="pre">make_geo_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinstance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.make_geo_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.make_geo_plot" title="Permalink to this definition"></a></dt>
<dd><p>This functions creates a geospatial plot for a field
(observations or attributes) of all stations.</p>
<p>If the field is timedepending, than the timeinstance is used to plot
the field status at that datetime.</p>
<p>If the field is categorical than the leged will have categorical
values, else a colorbar is used.</p>
<p>All styling attributes are extracted from the Settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable</strong> (<em>string</em><em>, </em><em>optional</em>) – Fieldname to visualise. This can be an observation type or station
or ‘lcz’. The default is ‘temp’.</p></li>
<li><p><strong>title</strong> (<em>string</em><em>, </em><em>optional</em>) – Title of the figure, if None a default title is generated. The default is None.</p></li>
<li><p><strong>timeinstance</strong> (<em>datetime.datetime</em><em>, </em><em>optional</em>) – Datetime moment of the geospatial plot. If None, the first available datetime is used. The default is None.</p></li>
<li><p><strong>legend</strong> (<em>bool</em><em>, </em><em>optional</em>) – I True, a legend is added to the plot. The default is True.</p></li>
<li><p><strong>vmin</strong> (<em>numeric</em><em>, </em><em>optional</em>) – The value corresponding with the minimum color. If None, the minimum of the presented observations is used. The default is None.</p></li>
<li><p><strong>vmax</strong> (<em>numeric</em><em>, </em><em>optional</em>) – The value corresponding with the maximum color. If None, the maximum of the presented observations is used. The default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>axis</strong> – The geoaxes of the plot is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib.pyplot.geoaxes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.make_plot">
<span class="sig-name descname"><span class="pre">make_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stationnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'name'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_outliers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_filled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.make_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.make_plot" title="Permalink to this definition"></a></dt>
<dd><p>This function creates a timeseries plot for the dataset. The variable observation type
is plotted for all stationnames from a starttime to an endtime.</p>
<p>All styling attributes are extracted from the Settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stationnames</strong> (<em>list</em><em>, </em><em>optional</em>) – A list with stationnames to include in the timeseries. If None is given, all the stations are used, defaults to None.</p></li>
<li><p><strong>obstype</strong> (<em>string</em><em>, </em><em>optional</em>) – Fieldname to visualise. This can be an observation or station
attribute. The default is ‘temp’.</p></li>
<li><p><strong>colorby</strong> (<em>'label'</em><em> or </em><em>'name'</em><em>, </em><em>optional</em>) – Indicate how colors should be assigned to the lines. ‘label’ will color the lines by their quality control label. ‘name’ will color by each station, defaults to ‘name’.</p></li>
<li><p><strong>starttime</strong> (<em>datetime.datetime</em><em>, </em><em>optional</em>) – Specifiy the start datetime for the plot. If None is given it will use the start datetime of the dataset, defaults to None.</p></li>
<li><p><strong>endtime</strong> (<em>datetime.datetime</em><em>, </em><em>optional</em>) – Specifiy the end datetime for the plot. If None is given it will use the end datetime of the dataset, defaults to None.</p></li>
<li><p><strong>title</strong> (<em>string</em><em>, </em><em>optional</em>) – Title of the figure, if None a default title is generated. The default is None.</p></li>
<li><p><strong>y_label</strong> (<em>string</em><em>, </em><em>optional</em>) – y-axes label of the figure, if None a default label is generated. The default is None.</p></li>
<li><p><strong>legend</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, a legend is added to the plot. The default is True.</p></li>
<li><p><strong>show_outliers</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true the observations labeld as outliers will be included in
the plot. This is only true when colorby == ‘name’. The default
is True.</p></li>
<li><p><strong>show_filled</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true the filled values for gaps and missing observations will
be included in the plot. This is only true when colorby == ‘name’.
The default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>axis</strong> – The timeseries axes of the plot is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib.pyplot.axes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.save_dataset">
<span class="sig-name descname"><span class="pre">save_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outputfolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'saved_dataset.pkl'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.save_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.save_dataset" title="Permalink to this definition"></a></dt>
<dd><p>Method to save a Dataset instance to a (pickle) file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputfolder</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The path to the folder to save the file. If None, the outputfolder
from the Settings is used. The default is None.</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the output file. The default is ‘saved_dataset.pkl’.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.show" title="Permalink to this definition"></a></dt>
<dd><p>A function to print out some overview information about the Dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.show_settings">
<span class="sig-name descname"><span class="pre">show_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.show_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.show_settings" title="Permalink to this definition"></a></dt>
<dd><p>A function that prints out all the settings, structured per thematic.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.sync_observations">
<span class="sig-name descname"><span class="pre">sync_observations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tollerance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.sync_observations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.sync_observations" title="Permalink to this definition"></a></dt>
<dd><p>Simplify and syncronize the observation timestamps along different stations.</p>
<p>To simplify the resolution (per station), a tollerance is use to shift timestamps. The tollerance indicates the
maximum translation in time that can be applied to an observation.</p>
<p>The sycronisation tries to group stations that have an equal simplified resolution, and syncronize them. The origin
of the sycronized timestamps will be set to round hours, round 10-minutes or round-5 minutes if possible given the tollerance.</p>
<p>The observations present in the input file are used.</p>
<p>After syncronization, the IO outliers, missing observations and gaps are recomputed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tollerance</strong> – The tollerance string or object representing the maximum translation in time.
Ex: ‘5T’ is 5 minuts, ‘1H’, is one hour.</p></li>
<li><p><strong>str</strong> (<em>Timedelta or</em>) – The tollerance string or object representing the maximum translation in time.
Ex: ‘5T’ is 5 minuts, ‘1H’, is one hour.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, a dataframe illustrating the mapping from original datetimes to simplified and syncronized is returned. The default is True.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keep in mind that this method will overwrite the df, outliersdf, missing timestamps and gaps.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because the used observations are from the input file, previously coarsend timeresolutions are ignored.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dataframe containing the original observations with original timestamps and the corresponding target timestamps.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame (if verbose is True)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.update_gaps_and_missing_from_outliers">
<span class="sig-name descname"><span class="pre">update_gaps_and_missing_from_outliers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'temp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_gapsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.update_gaps_and_missing_from_outliers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.update_gaps_and_missing_from_outliers" title="Permalink to this definition"></a></dt>
<dd><p>Interpret the outliers as missing observations. If there is a sequence
of these outliers for a station, larger than n_gapsize than this will
be interpreted as a gap.</p>
<p>The outliers are not removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obstype</strong> (<em>str</em><em>, </em><em>optional</em>) – Use the outliers on this observation type to update the gaps and
missing timestamps.The obstype should be an element of
metobs_toolkit.observation_types. The default is ‘temp’.</p></li>
<li><p><strong>n_gapsize</strong> (<em>int</em><em>, </em><em>optional</em>) – The minimum number of consecutive missing observations to define
as a gap. If None, n_gapsize is taken from the settings defenition
of gaps. The default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Gaps and missing observations resulting from an outlier on a specific
obstype, are assumed to be gaps/missing observation for all obstypes.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be aware that n_gapsize is used for the current resolution of the Dataset,
this is different from the gap check applied on the inported data, if
the dataset is coarsend.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.update_outliersdf">
<span class="sig-name descname"><span class="pre">update_outliersdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">add_to_outliersdf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.update_outliersdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.update_outliersdf" title="Permalink to this definition"></a></dt>
<dd><p>V5</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="metobs_toolkit.dataset.Dataset.write_to_csv">
<span class="sig-name descname"><span class="pre">write_to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_outliers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_fill_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_final_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_tlk_obsnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite_outliers_by_gaps_and_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seperate_metadata_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metobs_toolkit/dataset.html#Dataset.write_to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#metobs_toolkit.dataset.Dataset.write_to_csv" title="Permalink to this definition"></a></dt>
<dd><p>Write the dataset to a file where the observations, metadata and
(if available) the quality labels per observation type are merged
together.</p>
<p>A final qualty control label for each
quality-controlled-observation type can be added in the outputfile.</p>
<p>The file will be writen to the outputfolder specified in the settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obstype</strong> (<em>string</em><em>, </em><em>optional</em>) – Specify an observation type to subset all observations to. If None,
all available observation types are writen to file. The default is
None.</p></li>
<li><p><strong>filename</strong> (<em>string</em><em>, </em><em>optional</em>) – The name of the output csv file. If none, a standard-filename
is generated based on the period of data. The default is None.</p></li>
<li><p><strong>include_outliers</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the outliers will be present in the csv file. The default is True.</p></li>
<li><p><strong>include_fill_values</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the filled gap and missing observation values will be
present in the csv file. The default is True.</p></li>
<li><p><strong>add_final_labels</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, a column is added containing the final label of an observation. The default is True.</p></li>
<li><p><strong>use_tlk_obsnames</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the standard naming of the metobs_toolkit is used, else
the original names for obstypes is used. The default is True.</p></li>
<li><p><strong>overwrite_outliers_by_gaps_and_missing</strong> (<em>bool</em><em>, </em><em>optional</em>) – If the gaps and missing observations are updated using outliers,
interpret these records as gaps/missing outliers if True. Else these
will be interpreted as outliers. The default is True.</p></li>
<li><p><strong>seperate_metadata_file</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, the metadat is writen to a seperate file, else the metadata
is merged to the observation in one file. The default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="metobs_toolkit.dataset.html" class="btn btn-neutral float-left" title="metobs_toolkit.dataset" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="metobs_toolkit.station.html" class="btn btn-neutral float-right" title="metobs_toolkit.station" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Thomas Vergauwen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XXXXXXXXXX', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>